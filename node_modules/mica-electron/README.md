<h1>Mica Electron</h1>

<img src="https://raw.githubusercontent.com/GregVido/mica-electron/main/files/img/img.png">

<b>Mica Electron</b> is a tool to add mica effect on electron app.<br>
This is created by <a href="https://www.youtube.com/gregvido">GregVido</a> and based on <a href="https://github.com/GregVido/mica-electron">Mica Electron</a>.

<details>
  <summary>Exemple of effects</summary>
  <div align=center>
	<img src="https://raw.githubusercontent.com/GregVido/mica-electron/main/files/img/demo-1.png" name="demo 0" width="30%">
	<img src="https://raw.githubusercontent.com/GregVido/mica-electron/main/files/img/demo-2.png" name="demo 1" width="30%">
	<img src="https://raw.githubusercontent.com/GregVido/mica-electron/main/files/img/demo-3.png" name="demo 2" width="30%"> 
  </div> 
</details><br> 

## Quickstart
```bash
$ npm install mica-electron
```
```js
const electron = require('electron');
const { PARAMS, VALUE,  MicaBrowserWindow } = require('mica-electron');
const path = require('path');

electron.app.commandLine.appendSwitch("enable-transparent-visuals");

electron.app.on('ready', () => {
    const win = new MicaBrowserWindow({
        width: 800,
        height: 600,
        effect: PARAMS.BACKGROUND.MICA,
        theme: VALUE.THEME.DARK,
        autoHideMenuBar: true,
        show: false,
        // frame: false // -> now work, you can remove the frame properly !!
    });

    win.setVisualEffect(EFFECT.CORNER, PARAMS.CORNER.ROUNDSMALL); // Small rounded

    win.loadFile(path.join(__dirname, 'files', 'index.html'));

    win.webContents.once('dom-ready', () => {
        win.show();
    });
});
```

<details>
  <summary>Change radius</summary>
    You can change corner radius :

```js
win.setVisualEffect(PARAMS.CORNER, VALUE.CORNER.ROUND);		// Rounded
win.setVisualEffect(PARAMS.CORNER, VALUE.CORNER.ROUNDSMALL);	// Small rounded
win.setVisualEffect(PARAMS.CORNER, VALUE.CORNER.DONOTROUND);	// Square
```
<div align=center>
<img src="https://raw.githubusercontent.com/GregVido/mica-electron/main/files/img/corner-1.png" name="corner 0" width="10%">
<img src="https://raw.githubusercontent.com/GregVido/mica-electron/main/files/img/corner-2.png" name="corner 1" width="10%">
<img src="https://raw.githubusercontent.com/GregVido/mica-electron/main/files/img/corner-3.png" name="corner 2" width="10%"> 
</div>
</details>

<details>
  <summary>Change window colors</summary>
    You can change window colors :

```js
win.setVisualEffect(PARAMS.BORDER_COLOR, VALUE.COLOR.FROM_RGB(244, 11, 11));	// Border color
win.setVisualEffect(PARAMS.CAPTION_COLOR, VALUE.COLOR.FROM_RGB(38, 38, 38));	// Background titlebar color
win.setVisualEffect(PARAMS.TEXT_COLOR, VALUE.COLOR.WHITE);			// Title text color
```
<div align=center>
<img src="https://raw.githubusercontent.com/GregVido/mica-electron/main/files/img/border.png" name="border" width="50%">
</div>
</details><br>


## Source Install / Manual Compilation
To compile from source it's easiest to use
[`node-gyp`](https://github.com/TooTallNate/node-gyp):

``` bash
$ npm install -g node-gyp
```

Now you can compile `mica-electron`:

``` bash
$ cd .\node_modules\mica-electron\
$ node-gyp rebuild
```
## Objects details
<details>
  <summary>PARAMS Object</summary>
  The params is a number, you can has an object to help you:

```js
    const PARAMS = {
        BACKGROUND: {
            AUTO: 0,
            NONE: 1,
            ACRYLIC: 3,         // Acrylic
            MICA: 2,            // Mica
            TABBED_MICA: 4      // Mica tabbed
        },
        CORNER: 5,
        BORDER_COLOR: 6,
        CAPTION_COLOR: 7,
        TEXT_COLOR: 8,
        FRAME: 9
    }
```
</details>

<details>
  <summary>VALUE Object</summary>
The value is a string, you can has an object to help you:

```js
const VALUE = {
    THEME: {
        AUTO: 0,	// select theme by the windows theme
        DARK: 1,	// select the dark theme
        LIGHT: 2,	// select the white theme
    },
    CORNER: {
        DEFAULT: 0,
        DONOTROUND: 1,
        ROUND: 2,
        ROUNDSMALL: 3
    },
    COLOR: {
        RED: 0x000000FF,
        GREEN: 0x0000FF00,
        BLUE: 0x00FF0000,
        BLACK: 0x00000000,
        WHITE: 0x00FFFFFF,
        FROM_RGB: (r, g, b) => {
            return r + (g << 8) + (b << 16);
        }
    },
    FALSE: 0,
    TRUE: 1
}
```
</details><br>

## FAQ
<details>
  <summary>Error: '...\micaElectron.node' was compiled against a different Node.js version using ...</summary>
  If you are an error of nodejs version, use electron-packager to rebuild the project with the good version.

  ```bash
  $ npm install electron
  $ npm install electron-rebuild
  $ .\node_modules\.bin\electron-rebuild
  ```
</details>
<details>
  <summary>Build for 32 bits ?</summary>

  If you want use `mica-electron` with 32 bits electron app, rebuild C++ script

``` bash
$ cd .\node_modules\mica-electron\
$ node-gyp rebuild --arch=ia32
$ cd ..\..\
$ .\node_modules\.bin\electron-rebuild --arch=ia32
```
</details>
<br>

## Awesome applications using Mica-Electron

- [MicaDiscord](https://www.micadiscord.com/) by GregVido and Arbitro
- [Cider](https://github.com/ciderapp/Cider)